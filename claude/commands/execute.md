---
description: è¿›å…¥ EXECUTE æ¨¡å¼
---

## âš¡ æ ¸å¿ƒèŒè´£

**åœ¨æ—¢å®šæ–¹æ¡ˆä¸‹å®ç°ä¸éªŒè¯**ï¼Œå°æ­¥å¿«è·‘ã€å¯å›æ»šã€‚

**äº§å‡º**ï¼šå¯é€šè¿‡æµ‹è¯•çš„æœ€å°å˜æ›´é›† + Git commitï¼ˆä¸­æ–‡ä¿¡æ¯ + å†³ç­–è¯´æ˜ï¼‰

---

## âœ… æ‰§è¡Œæ¸…å•

### 1. ä¿®æ”¹å‰æ£€æŸ¥
```bash
# ç†è§£å½“å‰å®ç°
serena find_symbol <target> --include-body
ripgrep "<api_usage>"  # æœç´¢æ‰€æœ‰è°ƒç”¨ç‚¹
```

### 2. å®æ–½ä¿®æ”¹ï¼ˆæœ€å° diffï¼‰
- ä¸¥æ ¼æŒ‰è®¾è®¡æ–‡æ¡£ç¼–ç 
- **å…ˆè´´ diff/patch ä¾›å®¡æ ¸ï¼Œç¡®è®¤åå†åº”ç”¨**

### 3. ä¿®æ”¹åéªŒè¯
```bash
# æ£€æŸ¥å½±å“èŒƒå›´
serena find_referencing_symbols <target>
semgrep scan           # å®‰å…¨æ£€æµ‹
tree-sitter validate   # è¯­æ³•éªŒè¯

# è¿è¡Œæµ‹è¯•ï¼ˆå¿…é¡»ï¼‰
npm test  # æˆ–é¡¹ç›®æµ‹è¯•å‘½ä»¤
```

### 4. æµ‹è¯•é©±åŠ¨æµç¨‹
```
âœ… æµ‹è¯•é€šè¿‡ â†’ æäº¤ commitï¼ˆå¢å¼ºæ ¼å¼ï¼Œè§ä¸‹æ–‡ï¼‰
âŒ æµ‹è¯•å¤±è´¥ â†’ åˆ‡æ¢åˆ° DIAGNOSEï¼Œæ·»åŠ  debug æ—¥å¿—é‡æ–°è¯Šæ–­
```

### 5. Git Commit å¢å¼ºæ ¼å¼
```bash
git commit -m "feat: æ·»åŠ  JWT è®¤è¯æ¨¡å—

- å†³ç­–ï¼šé€‰æ‹© JWT è€Œé Sessionï¼ˆè§ docs/decisions/2025-10-18-jwt-auth.mdï¼‰
- å…³è” Serenaï¼šstrategy_jwt_vs_session
- TODO: æ·»åŠ  refresh token è½®è½¬æœºåˆ¶

ç›¸å…³æ–‡ä»¶ï¼š
- src/auth/jwt.ts (æ–°å¢)
- src/middleware/auth.ts (ä¿®æ”¹)
"
```

### 6. è®°å¿†æ›´æ–°ï¼ˆå¦‚é‡å‘ï¼‰
```bash
# é‡åˆ°æŠ€æœ¯é™·é˜± â†’ ç«‹å³è®°å½•åˆ° Serena
serena write_memory "pitfalls_jwt_concurrent_refresh" """
é—®é¢˜ï¼šå¹¶å‘åˆ·æ–° refresh token å¯¼è‡´ç«æ€æ¡ä»¶
åŸå› ï¼šæ—§ token ç«‹å³å¤±æ•ˆï¼Œå¹¶å‘è¯·æ±‚å¤±è´¥
è§£å†³ï¼šsliding window + 5 ç§’å®½é™æœŸ
"""

# æ–‡æ¡£æ›´æ–°ï¼ˆå¦‚éœ€ï¼‰
# åŒæ­¥æ›´æ–° docs/architecture/ æˆ– docs/api/
```

---

## âš ï¸ å¼‚å¸¸å¤„ç†

**é‡åˆ°è®¾è®¡/éœ€æ±‚å†²çªæ—¶**ï¼š
1. ç«‹å³åœæ­¢ä¿®æ”¹
2. è¾“å‡ºé—®é¢˜è¯Šæ–­
3. å»ºè®®åˆ‡å› RESEARCH æˆ– PLAN

---

<details>
<summary>ğŸ› ï¸ å·¥å…·é€ŸæŸ¥ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>

| é˜¶æ®µ | å·¥å…· | ç”¨é€” |
|------|------|------|
| **ä¿®æ”¹å‰** | serena, ripgrep | ç†è§£å®ç° + æœç´¢è°ƒç”¨ |
| **éªŒè¯** | semgrep, tree-sitter | å®‰å…¨æ‰«æ + è¯­æ³•æ£€æŸ¥ |
| **æäº¤** | Git | å¢å¼ºæ ¼å¼ commitï¼ˆå«å†³ç­–è¯´æ˜ï¼‰ |
| **è®°å¿†** | serena | è®°å½•é™·é˜±ï¼ˆå¦‚é‡å‘ï¼‰ |

</details>
